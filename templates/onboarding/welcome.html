{% extends 'base.html' %} {% load static %} {% block title %}Bem-vindo ao
Symplifika{% endblock %} {% block meta_description %}Bem-vindo ao Symplifika!
Descubra como organizar e acelerar seu trabalho com atalhos inteligentes.
{%endblock %}
<!-- prettier-ignore -->{% block body_class %}bg-gradient-to-br from-symplifika-primary/5
to-symplifika-secondary/5 min-h-screen{% endblock %} {% block content %}
<div class="min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl w-full">
        <!-- Welcome Header -->
        <div class="text-center mb-12">
            <div class="flex justify-center mb-6">
                <div
                    class="w-20 h-20 bg-symplifika-primary rounded-2xl flex items-center justify-center shadow-lg"
                >
                    <svg
                        class="w-10 h-10 text-white"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 10V3L4 14h7v7l9-11h-7z"
                        />
                    </svg>
                </div>
            </div>

            <h1
                class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4"
            >
                Bem-vindo ao
                <span class="text-symplifika-primary">Symplifika</span>!
            </h1>

            <p
                class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto"
            >
                Voc√™ est√° a poucos passos de revolucionar sua produtividade.
                Vamos configurar tudo para voc√™ come√ßar da melhor forma.
            </p>
        </div>

        <!-- Features Preview -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
            <div
                class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 text-center"
            >
                <div
                    class="w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mx-auto mb-4"
                >
                    <svg
                        class="w-6 h-6 text-blue-600 dark:text-blue-400"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 10V3L4 14h7v7l9-11h-7z"
                        />
                    </svg>
                </div>
                <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white mb-2"
                >
                    Atalhos Inteligentes
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                    Crie atalhos personalizados para suas tarefas mais
                    frequentes
                </p>
            </div>

            <div
                class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 text-center"
            >
                <div
                    class="w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mx-auto mb-4"
                >
                    <svg
                        class="w-6 h-6 text-green-600 dark:text-green-400"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                        />
                    </svg>
                </div>
                <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white mb-2"
                >
                    Organiza√ß√£o Simples
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                    Organize seus atalhos em categorias para encontrar tudo
                    rapidamente
                </p>
            </div>

            <div
                class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700 text-center"
            >
                <div
                    class="w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center mx-auto mb-4"
                >
                    <svg
                        class="w-6 h-6 text-purple-600 dark:text-purple-400"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                        />
                    </svg>
                </div>
                <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white mb-2"
                >
                    Analytics Detalhados
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                    Acompanhe sua produtividade com relat√≥rios e estat√≠sticas
                </p>
            </div>
        </div>

        <!-- User Info -->
        <div
            class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-sm border border-gray-200 dark:border-gray-700 mb-8"
        >
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h2
                        class="text-2xl font-semibold text-gray-900 dark:text-white mb-2"
                    >
                        Ol√°, {{ user.first_name|default:user.username }}! üëã
                    </h2>
                    <p class="text-gray-600 dark:text-gray-300">
                        Vamos personalizar sua experi√™ncia no Symplifika
                    </p>
                </div>
                <div class="hidden sm:block">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-symplifika-primary to-symplifika-secondary rounded-full flex items-center justify-center text-white text-2xl font-bold"
                    >
                        {{ user.first_name.0|default:user.username.0|upper }}
                    </div>
                </div>
            </div>

            <!-- Quick Setup Options -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <h3 class="font-medium text-gray-900 dark:text-white">
                        Configura√ß√£o R√°pida
                    </h3>

                    <label class="flex items-center">
                        <input
                            type="checkbox"
                            id="enableNotifications"
                            class="rounded border-gray-300 text-symplifika-primary focus:ring-symplifika-primary"
                            checked
                        />
                        <span
                            class="ml-3 text-sm text-gray-700 dark:text-gray-300"
                        >
                            Ativar notifica√ß√µes
                        </span>
                    </label>

                    <label class="flex items-center">
                        <input
                            type="checkbox"
                            id="enableAnalytics"
                            class="rounded border-gray-300 text-symplifika-primary focus:ring-symplifika-primary"
                            checked
                        />
                        <span
                            class="ml-3 text-sm text-gray-700 dark:text-gray-300"
                        >
                            Permitir analytics para melhorar o servi√ßo
                        </span>
                    </label>

                    <label class="flex items-center">
                        <input
                            type="checkbox"
                            id="enableTips"
                            class="rounded border-gray-300 text-symplifika-primary focus:ring-symplifika-primary"
                            checked
                        />
                        <span
                            class="ml-3 text-sm text-gray-700 dark:text-gray-300"
                        >
                            Receber dicas e tutoriais
                        </span>
                    </label>
                </div>

                <div class="space-y-4">
                    <h3 class="font-medium text-gray-900 dark:text-white">
                        Prefer√™ncias
                    </h3>

                    <div>
                        <label
                            class="block text-sm text-gray-700 dark:text-gray-300 mb-2"
                        >
                            Tema preferido
                        </label>
                        <select
                            id="themePreference"
                            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-symplifika-primary focus:border-symplifika-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
                        >
                            <option value="auto">Autom√°tico (sistema)</option>
                            <option value="light">Claro</option>
                            <option value="dark">Escuro</option>
                        </select>
                    </div>

                    <div>
                        <label
                            class="block text-sm text-gray-700 dark:text-gray-300 mb-2"
                        >
                            √Årea de trabalho principal
                        </label>
                        <select
                            id="workArea"
                            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-symplifika-primary focus:border-symplifika-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
                        >
                            <option value="development">Desenvolvimento</option>
                            <option value="design">Design</option>
                            <option value="marketing">Marketing</option>
                            <option value="productivity">Produtividade</option>
                            <option value="other">Outro</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div
            class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6"
        >
            <button
                onclick="skipOnboarding()"
                class="w-full sm:w-auto px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium"
            >
                Pular Tutorial
            </button>

            <button
                onclick="startOnboarding()"
                class="w-full sm:w-auto px-8 py-3 bg-symplifika-primary text-white rounded-lg hover:bg-symplifika-accent transition-colors font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
            >
                Come√ßar Tutorial
                <svg
                    class="w-5 h-5 ml-2 inline"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7l5 5m0 0l-5 5m5-5H6"
                    />
                </svg>
            </button>
        </div>

        <!-- Progress Indicator -->
        <div class="mt-12 text-center">
            <div class="flex items-center justify-center space-x-2">
                <div class="w-3 h-3 bg-symplifika-primary rounded-full"></div>
                <div
                    class="w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"
                ></div>
                <div
                    class="w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"
                ></div>
                <div
                    class="w-3 h-3 bg-gray-300 dark:bg-gray-600 rounded-full"
                ></div>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                Passo 1 de 4
            </p>
        </div>
    </div>
</div>

<!-- Welcome Animation -->
<div
    id="welcomeAnimation"
    class="fixed inset-0 z-50 bg-white dark:bg-gray-900 flex items-center justify-center transition-opacity duration-1000"
>
    <div class="text-center">
        <div
            class="w-24 h-24 bg-symplifika-primary rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse"
        >
            <svg
                class="w-12 h-12 text-white animate-bounce"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"
                />
            </svg>
        </div>
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">
            Preparando tudo para voc√™...
        </h2>
        <div
            class="w-64 h-2 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto overflow-hidden"
        >
            <div
                id="loadingBar"
                class="h-full bg-symplifika-primary rounded-full transition-all duration-300"
                style="width: 0%"
            ></div>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Show welcome animation
        showWelcomeAnimation();

        // Apply saved preferences
        applySavedPreferences();
    });

    function showWelcomeAnimation() {
        const animation = document.getElementById("welcomeAnimation");
        const loadingBar = document.getElementById("loadingBar");

        let progress = 0;
        const interval = setInterval(() => {
            progress += Math.random() * 30;
            if (progress >= 100) {
                progress = 100;
                clearInterval(interval);

                setTimeout(() => {
                    animation.style.opacity = "0";
                    setTimeout(() => {
                        animation.style.display = "none";
                    }, 1000);
                }, 500);
            }
            loadingBar.style.width = progress + "%";
        }, 200);
    }

    function applySavedPreferences() {
        // Apply theme preference
        const savedTheme = localStorage.getItem("theme") || "auto";
        document.getElementById("themePreference").value = savedTheme;

        // Apply other saved settings
        const notifications = localStorage.getItem("notifications") !== "false";
        document.getElementById("enableNotifications").checked = notifications;
    }

    function startOnboarding() {
        // Save preferences
        savePreferences();

        // Redirect to onboarding steps
        window.location.href = '{% url "onboarding:steps" %}';
    }

    function skipOnboarding() {
        if (
            confirm(
                "Tem certeza que deseja pular o tutorial? Voc√™ pode acess√°-lo depois nas configura√ß√µes.",
            )
        ) {
            // Save preferences
            savePreferences();

            // Mark onboarding as completed
            fetch("/api/onboarding/complete/", {
                method: "POST",
                headers: {
                    "X-CSRFToken": getCSRFToken(),
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ skipped: true }),
            }).then(() => {
                // Redirect to dashboard
                window.location.href = '{% url "users:dashboard" %}';
            });
        }
    }

    function savePreferences() {
        const preferences = {
            notifications: document.getElementById("enableNotifications")
                .checked,
            analytics: document.getElementById("enableAnalytics").checked,
            tips: document.getElementById("enableTips").checked,
            theme: document.getElementById("themePreference").value,
            work_area: document.getElementById("workArea").value,
        };

        // Save to localStorage
        Object.keys(preferences).forEach((key) => {
            localStorage.setItem(key, preferences[key]);
        });

        // Save to backend
        fetch("/api/user/preferences/", {
            method: "POST",
            headers: {
                "X-CSRFToken": getCSRFToken(),
                "Content-Type": "application/json",
            },
            body: JSON.stringify(preferences),
        });

        // Apply theme immediately
        if (preferences.theme !== "auto") {
            document.documentElement.classList.toggle(
                "dark",
                preferences.theme === "dark",
            );
        }
    }

    function getCSRFToken() {
        return (
            document.querySelector("[name=csrfmiddlewaretoken]")?.value ||
            document
                .querySelector("meta[name=csrf-token]")
                ?.getAttribute("content") ||
            ""
        );
    }

    // Theme preference change handler
    document
        .getElementById("themePreference")
        .addEventListener("change", function () {
            const theme = this.value;
            if (theme === "dark") {
                document.documentElement.classList.add("dark");
            } else if (theme === "light") {
                document.documentElement.classList.remove("dark");
            } else {
                // Auto theme based on system preference
                const prefersDark = window.matchMedia(
                    "(prefers-color-scheme: dark)",
                ).matches;
                document.documentElement.classList.toggle("dark", prefersDark);
            }
        });
</script>
{% endblock %}
