{% extends 'emails/base.html' %}

{% block title %}Redefinir Senha - Symplifika{% endblock %}
{% block email_title %}Redefinir Senha{% endblock %}

{% block content %}
<h2 class="content-title">🔐 Solicitação de Redefinição de Senha</h2>

<p class="content-subtitle">
    Olá, {{ user.get_full_name|default:user.username }}!
</p>

<p class="content-text">
    Recebemos uma solicitação para redefinir a senha da sua conta no Symplifika. 
    Se você fez esta solicitação, clique no botão abaixo para criar uma nova senha.
</p>

<div class="warning-box">
    <p style="margin: 0; color: #92400e; font-weight: 600;">
        ⚠️ Importante
    </p>
    <p style="margin: 10px 0 0 0; color: #b45309;">
        Este link é válido por apenas <strong>24 horas</strong> por motivos de segurança.
    </p>
</div>

<div style="text-align: center; margin: 30px 0;">
    <a href="{{ reset_url }}" class="btn">
        Redefinir Minha Senha
    </a>
</div>

<div class="info-box">
    <h4 style="margin: 0 0 10px 0; color: #0369a1;">🛡️ Dicas de Segurança</h4>
    <ul style="margin: 0; padding-left: 20px; color: #0284c7;">
        <li>Use uma senha forte com pelo menos 8 caracteres</li>
        <li>Combine letras maiúsculas, minúsculas, números e símbolos</li>
        <li>Evite informações pessoais óbvias</li>
        <li>Considere usar um gerenciador de senhas</li>
    </ul>
</div>

<h3 style="color: #1f2937; font-size: 18px; margin: 30px 0 15px 0;">
    Não foi você?
</h3>

<p class="content-text">
    Se você não solicitou esta redefinição de senha, pode ignorar este email com segurança. 
    Sua senha atual permanecerá inalterada.
</p>

<p class="content-text">
    No entanto, se você suspeita que sua conta pode ter sido comprometida, recomendamos:
</p>

<ul style="color: #374151; margin: 0 0 20px 20px;">
    <li>Altere sua senha imediatamente</li>
    <li>Verifique suas atividades recentes na conta</li>
    <li>Entre em contato com nosso suporte se notar algo suspeito</li>
</ul>

<div style="background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <p style="margin: 0; color: #374151; font-size: 14px;">
        <strong>Detalhes da solicitação:</strong><br>
        Data: {{ request_time|date:"d/m/Y H:i" }}<br>
        IP: {{ request_ip|default:"Não disponível" }}<br>
        Navegador: {{ user_agent|default:"Não disponível" }}
    </p>
</div>

<p class="content-text">
    Se você tiver alguma dúvida ou precisar de ajuda, nossa equipe de suporte está disponível 24/7.
</p>

<div style="text-align: center; margin: 30px 0;">
    <a href="mailto:suporte@symplifika.com" class="btn btn-secondary">
        Contatar Suporte
    </a>
</div>

<p style="color: #6b7280; font-style: italic; margin: 30px 0 0 0;">
    Atenciosamente,<br>
    <strong>Equipe de Segurança Symplifika</strong>
</p>
{% endblock %}

{% block unsubscribe_link %}
<a href="{% url 'users:email_preferences' %}">Gerenciar preferências de email</a>
<br><small style="color: #9ca3af;">Emails de segurança não podem ser cancelados</small>
{% endblock %}
